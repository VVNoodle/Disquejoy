
{{extend 'layout.html'}} {{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
var my_url = "{{=URL('api', 'my_method')}}";
var urrl = "{{=URL('default', 'index2')}}";
var del_memo_url = "{{=URL('default', 'delete')}}";
var upvoteUrl = "{{=URL('default', 'updateUpvote')}}"
</script> {{end}}
<html>
<head>
  <link rel = "stylesheet" href = "https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
  <script type = "text/javascript" src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
  <script type = "text/javascript" src = "https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
  <script type = "text/javascript" src = "paging.js"></script>
  <link href="{{=URL('static','css/tableStyling.css')}}" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Raleway" />
  <script src="{{=URL('static', 'js/tablesorter.js')}}">
    $('#songs').tablesorter();
  </script>
</head>
<div class="main_content">
  <div v-if = "reverse">
    Hello!!
  </div>
  <table id = "songs" class = "table table-hover" box = "frame">
    <thead>
      <tr id = "header" bgcolor="red">
        <th v-for="col in columns" v-on:click="sortTable(col)">
            ${col}
        </th>
      </tr>
    </thead>
    <div v-if = "tracks is not None">
    <tr v-for = "(track, i) in musicAr">
      <td class="greyRow">${track.artist}</td>
      <td class="greyRow">${track.title}</td>
      <td class="greyRow">${track.popularity}</td>
      <td class="greyRow"></td>
      <td class="greyRow" @click = "increment(track.id)">
        ${track.upvotes}
      </td>
      <td id="trash">
        <a class="btn rounded red" @click="delete_track(track.id)">
          <i class="fa fa-trash fa-lg"></i>
        </a>
      </td>
    </tr>
  </div>

  </table>
  <div id = "buttonContainer" style="width:100%;text-align:center;display:inline-block;">

    <a href="#" class="paginate" id="previous">Previous</a> |
    <a href="#" class="paginate" id="next">Next</a>
    <a href='{{=URL("disquejoy","api","upload")}}'>
      <button class="buttonAdd w3-button w3-xlarge w3-circle w3-teal" style="right: 0;margin-left: auto;bottom: 0;z-index: 100;position: fixed;">+</button>
    </a>
  </div>
</div>

</div>


<script src="{{=URL('static', 'js/default_index.js')}}"></script>
</html>
